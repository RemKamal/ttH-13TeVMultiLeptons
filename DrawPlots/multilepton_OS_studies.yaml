label: OS_v0
luminosity: 19450.0
input_trees_directory: tree_files
output directory: histos_OS_studies

common cuts:
    cleanup: mass_leplep > 12 && dR_leplep > 0.2 && isCleanEvent
    OS: leptons_by_pt_1_tkCharge * leptons_by_pt_2_tkCharge == -1
    z_veto: PassZmask_mht
    lepton_pt: leptons_by_pt_1_pt > 20 && leptons_by_pt_2_pt > 10 

mu_mu cuts:
    mu_mu: TwoMuon
    isDoubleMuTriggerPass: isDoubleMuTriggerPass

mu_ele cuts:
    mu_ele: MuonElectron
    isMuEGTriggerPass: isMuEGTriggerPass

ele_ele cuts:
    ele_ele: TwoElectron
    isDoubleElectronTriggerPass: isDoubleElectronTriggerPass

regular selection cuts:
    placeholder: PassTwoLepton

jet tag categories:
    - eq3jeq2t
    - ge4jeq2t
    - ge3t

lepton categories:
    - mu_mu
    - mu_ele
    - ele_ele

weights:
    - lepIDAndIsoSF #Is there no lepton efficiency weight applied?
    - weight_PU
    - topPtWgt
    - csvWgtlf
    - csvWgthf
    - triggerSF

systematics:
    - nominal
    #- weight_PUup #PUUp
    #- topPtWgtUp #topPtcorrUp
    ##- not yet implemented #CMS_scale_jUp; need separate files?
    ##- not yet implemented #Q2scale_ttH_[sample name]Up; ttbar, tt+HF only
    #- csvWgtlf_HFUp #CMS_ttH_CSVHFUp
    #- csvWgtlf_Stats1Up #CMS_ttH_CSVLFStats1Up
    #- csvWgtlf_Stats2Up #CMS_ttH_CSVLFStats2Up
    #- csvWgthf_LFUp #CMS_ttH_CSVLFUp
    #- csvWgthf_Stats1Up #CMS_ttH_CSVHFStats1Up
    #- csvWgthf_Stats2Up #CMS_ttH_CSVHFStats2Up
    #- csvWgtc_Err1Up #CMS_ttH_CSVCErr1Up
    #- csvWgtc_Err2Up #CMS_ttH_CSVCErr2Up
    #- weight_PUdown #PUDown
    ##- topPtWgtDown #topPtcorrDown
    ##- not yet implemented #CMS_scale_jDown; need separate files?
    ##- not yet implemented #Q2scale_ttH_[sample name]Down; ttbar, tt+HF only
    #- csvWgtlf_HFDown #CMS_ttH_CSVHFDown
    #- csvWgtlf_Stats1Down #CMS_ttH_CSVLFStats1Down
    #- csvWgtlf_Stats2Down #CMS_ttH_CSVLFStats2Down
    #- csvWgthf_LFDown #CMS_ttH_CSVLFDown
    #- csvWgthf_Stats1Down #CMS_ttH_CSVHFStats1Down
    #- csvWgthf_Stats2Down #CMS_ttH_CSVHFStats2Down
    #- csvWgtc_Err1Down #CMS_ttH_CSVCErr1Down
    #- csvWgtc_Err2Down #CMS_ttH_CSVCErr2Down
    ##IMPORTANT: Do weights like 'csvWgtlf_HFDown' just get multiplied, or divide by csvWgtlf as well?


#weights: all ---> weight by everything in "weights" section above
#weights: none ---> don't apply any weight
#weights: all+weight1 ---> weight by everything in the "weights" section above, and also by weight1
#weights: all+weight1-weight2 ---> weight by everything in the "weights" section above except for weight2, and also by weight1
#weights: weight1+weight2 ---> weight only by weight1 and weight2
#same idea for systematics
samples:
    ttH125:
        weights: all
        systematics: all
    ttbar_jj:
        weights: all
        systematics: all
    ttbar_cc_jj:
        weights: all
        systematics: all
    ttbar_b_jj:
        weights: all
        systematics: all
    ttbar_bb_jj:
        weights: all
        systematics: all
    ttbar_lj:
        weights: all
        systematics: all
    ttbar_cc_lj:
        weights: all
        systematics: all
    ttbar_b_lj:
        weights: all
        systematics: all
    ttbar_bb_lj:
        weights: all
        systematics: all
    ttbar_ll:
        weights: all
        systematics: all
    ttbar_cc_ll:
        weights: all
        systematics: all
    ttbar_b_ll:
        weights: all
        systematics: all
    ttbar_bb_ll:
        weights: all
        systematics: all
    singlet_s:
        weights: all
        systematics: all
    singlet_t:
        weights: all
        systematics: all
    singlet_tW:
        weights: all
        systematics: all
    singletbar_s:
        weights: all
        systematics: all
    singletbar_t:
        weights: all
        systematics: all
    singletbar_tW:
        weights: all
        systematics: all
    ttbarW:
        weights: all
        systematics: all
    ttbarZ:
        weights: all
        systematics: all
    ww:
        weights: all
        systematics: all
    wz:
        weights: all
        systematics: all
    zz:
        weights: all
        systematics: all
    wjets_0p:
        weights: all
        systematics: all
    wjets_1p:
        weights: all
        systematics: all
    wjets_2p:
        weights: all
        systematics: all
    wjets_3p:
        weights: all
        systematics: all
    wjets_4p:
        weights: all
        systematics: all
    zjets_0p:
        weights: all
        systematics: all
    zjets_1p:
        weights: all
        systematics: all
    zjets_2p:
        weights: all
        systematics: all
    zjets_3p:
        weights: all
        systematics: all
    zjets_4p:
        weights: all
        systematics: all
    zjets_lowmass:
        weights: all
        systematics: all
    DoubleMu:
        weights: none
        systematics: nominal
    MuEG:
        weights: none
        systematics: nominal
    DoubleElectron:
        weights: none
        systematics: nominal

aliases:
    - &default_num_bins 20

distributions:
    numJets:
        expression: numJets
        plot type: TH1F
        axis labels: [number of jets, Events]
        binning: [8, 2.5, 10.5]

    numMediumBJets:
        expression: numMediumBJets
        plot type: TH1F
        axis labels: [number of medium b-tagged jets, Events]
        binning: [4, 1.5, 5.5]

    numAllLeptons:
        expression: numAllLeptons
        plot type: TH1F
        axis labels: [number of leptons, Events]
        binning: [3, 1.5, 4.5]

    numTightLeptons:
        expression: numTightLeptons
        plot type: TH1F
        axis labels: [number of tight leptons, Events]
        binning: [3, 0.5, 3.5]

    leptons_by_pt_1_pt:
        expression: leptons_by_pt_1_pt
        plot type: TH1F
        axis labels: [First lepton pT, Events]
        binning: [*default_num_bins, 20, 220]

    leptons_by_pt_2_pt:
        expression: leptons_by_pt_2_pt
        plot type: TH1F
        axis labels: [Second lepton pT, Events]
        binning: [*default_num_bins, 10, 110]

    leptons_by_pt_1_eta:
        expression: leptons_by_pt_1_eta
        plot type: TH1F
        axis labels: [First lepton eta, Events]
        binning: [*default_num_bins, -2.5, 2.5]

    leptons_by_pt_2_eta:
        expression: leptons_by_pt_2_eta
        plot type: TH1F
        axis labels: [Second lepton eta, Events]
        binning: [*default_num_bins, -2.5, 2.5]

    jets_by_pt_1_pt:
        expression: jets_by_pt_1_pt
        plot type: TH1F
        axis labels: [First jet pT, Events]
        binning: [*default_num_bins, 30, 330]

    jets_by_pt_2_pt:
        expression: jets_by_pt_2_pt
        plot type: TH1F
        axis labels: [Second jet pT, Events]
        binning: [*default_num_bins, 30, 280]

    jets_by_pt_3_pt:
        expression: jets_by_pt_3_pt
        plot type: TH1F
        axis labels: [Third jet pT, Events]
        binning: [*default_num_bins, 30, 230]

    mass_leplep:
        expression: mass_leplep
        plot type: TH1F
        axis labels: [dilepton mass, Events]
        binning: [*default_num_bins, 0, 300]

    dR_leplep:
        expression: dR_leplep
        plot type: TH1F
        axis labels: [dR between leptons, Events]
        binning: [*default_num_bins, 0, 5]

    met_pt:
        expression: met_pt
        plot type: TH1F
        axis labels: [MET, Events]
        binning: [*default_num_bins, 0, 300] 

    mht:
        expression: mht
        plot type: TH1F
        axis labels: [MHT, Events] 
        binning: [*default_num_bins, 0, 300] 

    sum_pt:
        expression: sum_pt
        plot type: TH1F
        axis labels: [Sum pT (all), Events]
        binning: [*default_num_bins, 100, 1100]




